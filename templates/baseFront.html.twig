<!DOCTYPE html>
<html lang="en">
<head>
<title>{% block title %} {% endblock %}</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="TuniTrip Project">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="TuniTrip - voyage trip travel agence de voyage transfère">
<meta name="author" content="TuniTrip">


<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/styles/bootstrap4/bootstrap.min.css') }}">
<link href="{{ asset('assetsFront/plugins/font-awesome-4.7.0/css/font-awesome.min.css') }}" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/owl.carousel.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/owl.theme.default.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/animate.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/styles/main_styles.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/styles/responsive.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">





    {% block stylesheet %}
     
    {% endblock %}

</head>


<body>
<style>
/* Container */
.user_box {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* ------------------------------
   MODE CONNECTÉ
--------------------------------*/

/* Avatar rond moderne */
.avatar_circle {
    width: 42px;
    height: 42px;
    background: #1c2228;
    color: #fff;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s ease;
}

.avatar_circle:hover {
    background: #2e363d;
    transform: scale(1.05);
}

/* Dropdown Menu */
.dropdown_content {
    display: none;
    position: absolute;
    background: #fff;
    right: 0;
    margin-top: 8px;
    min-width: 160px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.15);
    border-radius: 10px;
    overflow: hidden;
    z-index: 9999;
    animation: fadeIn 0.25s ease-out;
}

.dropdown_content a {
    display: block;
    padding: 12px 16px;
    color: #1c2228;
    text-decoration: none;
    font-size: 15px;
    transition: 0.3s;
}

.dropdown_content a:hover {
    background: #f3f4f6;
}

/* Animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ------------------------------
   MODE DÉCONNECTÉ
--------------------------------*/

/* Boutons login/register modernes */
.btn-user {
    background: #ffffff;
    color: #1c2228;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    border: 1px solid #1c2228;
    transition: 0.3s ease;
    text-decoration: none;
}

.btn-user:hover {
    background: #1c2228;
    color: #ffffff;
    border-color: #1c2228;
    transform: translateY(-2px);
}


/* Style du badge */
.main_nav_item.soon {
  position: relative; /* nécessaire pour positionner le badge */
}

.main_nav_item.soon a::after {
  content: "SOON"; /* texte du badge */
  position: absolute;
  top: -14px;       /* au-dessus du lien */
  right: -27px;    /* à droite du lien */
  background-color: #D7B65D; /* couleur du badge */
  color: #192026; /* couleur du texte */
  font-size: 10px;
  font-weight: bold;
  padding: 2px 6px;
  border-radius: 8px; /* badge arrondi */
  text-transform: uppercase;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* ========================================
   TuniTrip - Modal Authentication Styles
   Couleurs: #1c2228 (principal), #d8b65d (secondaire)
   ======================================== */

/* Modal Overlay */
.modal.fade .modal-dialog {
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
}

.modal-backdrop.show {
    opacity: 0.7;
    background: #1c2228;
}

/* Modal Container */
.auth-modal {
    max-width: 480px;
    margin: 1.75rem auto;
}

.auth-modal .modal-content {
    border: none;
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(28, 34, 40, 0.3);
    overflow: hidden;
    background: #ffffff;
}

/* Modal Header */
.auth-modal .modal-header {
    background: linear-gradient(135deg, #1c2228 0%, #2a3139 100%);
    padding: 1rem 2rem 1.5rem;
    border-bottom: 3px solid #d8b65d;
}

.auth-modal .modal-title {
    color: #ffffff;
    font-size: 1.75rem;
    font-weight: 700;
    letter-spacing: -0.5px;
}

.auth-title-sub {
    color: #d8b65d;
    font-size: 0.9rem;
    font-weight: 400;
    margin-top: 0.25rem;
    opacity: 0.95;
}

.auth-modal .close {
    color: #ffffff;
    opacity: 0.8;
    font-size: 1.75rem;
    font-weight: 300;
    text-shadow: none;
    transition: all 0.2s ease;
    margin-top: -0.5rem;
}

.auth-modal .close:hover {
    opacity: 1;
    color: #d8b65d;
    transform: rotate(90deg);
}

/* Modal Body */
.auth-modal .modal-body {
    padding: 2rem;
    background: #ffffff;
}

/* Form Fields */
.auth-field,
.auth-field-row {
    position: relative;
    margin-bottom: 1.25rem;
}

.auth-field-row {
    display: flex;
    gap: 1rem;
}

.auth-field-row .auth-field {
    flex: 1;
}

.auth-field label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    color: #1c2228;
    margin-bottom: 0.5rem;
    letter-spacing: 0.3px;
}

.auth-field i {
    position: absolute;
    left: 1rem;
    top: 48px;
    color: #d8b65d;
    font-size: 1rem;
    z-index: 1;
}

.auth-field .form-control {
    padding: 0.875rem 1rem 0.875rem 2.75rem;
    border: 2px solid #e8e9eb;
    border-radius: 10px;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    background: #f8f9fa;
    color: #1c2228;
}

.auth-field .form-control:focus {
    background: #ffffff;
    border-color: #d8b65d;
    box-shadow: 0 0 0 4px rgba(216, 182, 93, 0.1);
    outline: none;
}

.auth-field .form-control::placeholder {
    color: #a0a4a8;
}

/* Checkbox Styling */
.form-check {
    padding-left: 1.75rem;
}

.form-check-input {
    width: 1.25rem;
    height: 1.25rem;
    margin-top: 0.125rem;
    border: 2px solid #d8b65d;
    border-radius: 4px;
    cursor: pointer;
}

.form-check-input:checked {
    background-color: #d8b65d;
    border-color: #d8b65d;
}

.form-check-input:focus {
    box-shadow: 0 0 0 3px rgba(216, 182, 93, 0.2);
}

.form-check-label {
    font-size: 0.875rem;
    color: #5a6169;
    cursor: pointer;
    user-select: none;
}

/* Auth Footer Text */
.auth-footer-text {
    font-size: 0.875rem;
    color: #5a6169;
    text-align: center;
    margin: 0.5rem 0;
}

.auth-footer-text a {
    color: #d8b65d;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
    position: relative;
}

.auth-footer-text a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -2px;
    left: 0;
    background-color: #d8b65d;
    transition: width 0.3s ease;
}

.auth-footer-text a:hover {
    color: #c4a54d;
}

.auth-footer-text a:hover::after {
    width: 100%;
}

/* Primary Button */
.btn-auth-primary {
    background: linear-gradient(135deg, #d8b65d 0%, #c4a54d 100%);
    border: none;
    color: #1c2228;
    font-weight: 600;
    font-size: 1rem;
    padding: 0.875rem 2rem;
    border-radius: 10px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(216, 182, 93, 0.3);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    font-size: 0.875rem;
}

.btn-auth-primary:hover {
    background: linear-gradient(135deg, #c4a54d 0%, #d8b65d 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(216, 182, 93, 0.4);
    color: #1c2228;
}

.btn-auth-primary:active {
    transform: translateY(0);
}

.btn-auth-primary:focus {
    box-shadow: 0 0 0 4px rgba(216, 182, 93, 0.3);
    outline: none;
}

/* ============================================
   VALIDATION STYLES
   ============================================ */

/* Message d'erreur sous les champs */
.error-message {
    display: none;
    color: #c53030;
    font-size: 0.75rem;
    margin-top: 0.25rem;
    padding: 0.25rem 0.5rem;
    background: #fff5f5;
    border-left: 3px solid #c53030;
    border-radius: 4px;
}

/* Input invalide */
.auth-field input.is-invalid {
    border-color: #c53030 !important;
    background-color: #fff5f5;
}

.auth-field input.is-invalid:focus {
    border-color: #c53030 !important;
    box-shadow: 0 0 0 0.2rem rgba(197, 48, 48, 0.25);
}

/* Input valide */
.auth-field input.is-valid {
    border-color: #15803d !important;
    background-color: #f0fdf4;
}

.auth-field input.is-valid:focus {
    border-color: #15803d !important;
    box-shadow: 0 0 0 0.2rem rgba(21, 128, 61, 0.25);
}

/* Alert Messages avec animation de fermeture */
.alert {
    border-radius: 10px;
    border: none;
    padding: 1rem;
    font-size: 0.875rem;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.alert-danger {
    background: #fff5f5;
    color: #f0fdf4;
    border-left: 4px solid #c53030;
}

.alert-success {
    background: #f0fdf4;
    color: #f0fdf4;
    border-left: 4px solid #15803d;
}

.alert-info {
    background: #f0f9ff;
    color: #1c2228;
    border-left: 4px solid #d8b65d;
}

.alert-info a {
    color: #d8b65d;
    font-weight: 600;
    text-decoration: underline;
}

/* Responsive Design */
@media (max-width: 576px) {
    .auth-modal {
        margin: 0.5rem;
    }
    
    .auth-modal .modal-header {
        padding: 1.5rem 1.25rem 1.25rem;
    }
    
    .auth-modal .modal-body {
        padding: 1.5rem 1.25rem;
    }
    
    .auth-modal .modal-title {
        font-size: 1.5rem;
    }
    
    .auth-field-row {
        flex-direction: column;
        gap: 0;
    }
    
    .btn-auth-primary {
        padding: 0.75rem 1.5rem;
    }
}

/* Animation Enhancement */
@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translate3d(0, -20%, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

.modal.show .modal-dialog {
    animation: slideInDown 0.4s ease-out;
}

/* Focus Visible for Accessibility */
*:focus-visible {
    outline: 2px solid #d8b65d;
    outline-offset: 2px;
}

button:focus-visible {
    outline-offset: 4px;
}
/* Alignement des titres */
.footer_title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 20px;
    text-transform: uppercase;
}

/* Liens */
.footer_links ul {
    padding: 0;
    margin: 0;
}

.footer_links ul li {
    list-style: none;
    margin-bottom: 10px;
}

.footer_links ul li a {
    color: #a5a5a5;
    font-size: 15px;
}

.footer_links ul li a:hover {
    color: #fff;
}

/* Icônes Contact */
.contact_info_item {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.contact_info_icon {
    width: 30px;
    height: 30px;
    background: #ff5722;
    color: #fff;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-right: 12px;
    font-size: 14px;
}

/* Icônes social media */
.footer_social_item a i {
    font-size: 18px;
    width: 38px;
    height: 38px;
    background: #ff5722;
    color: #fff;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.footer_social_item a i:hover {
    background: #e65100;
}
/* Bouton animé primaire (doré/sombre) */
.btn-animated-primary {
    position: relative;
    display: inline-block;
    border: none;
    border-radius: 27px;
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    padding: 10px 25px;
    cursor: pointer;
    overflow: hidden;
    background: linear-gradient(270deg, #2a3138, #d8b65d, #2a3138);
    background-size: 600% 600%;
    animation: gradientMove 5s ease infinite;
    transition: color 0.3s;
}

/* Animation gradient partagé */
@keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Numéro */
.phone {
    font-size: 15px;
    transition: 0.3s;
}

.phone i {
    margin-right: 5px;
    font-size: 20px; /* Icône téléphone */
}

/* Hover numéro */
.phone:hover {
    color: #1c2228;
}

/* User name */
.user_box .user_name {
    color: white !important;
    font-weight: 600;
}

/* Hover Login / Register / User Name */
.user_box a:hover {
    color: #1c2228 !important;
}
.user_link{
    color: white;
}

/* FOOTER BACKGROUND */
.modern-footer {
    position: relative;
    background: linear-gradient(to bottom, #1c2228 0%, #1c2228 70%, #ffffff 100%);
    padding: 60px 0 20px;
    color: #fff;
    z-index: 1;
}

/* OVERLAY (pour rendre le texte lisible) */
.modern-footer .footer-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(28, 34, 40, 0.85);
    z-index: -1;
}

/* LOGO */
.footer-logo img {
    width: 55px;
    margin-bottom: 10px;
}
.footer-logo h3 {
    font-size: 22px;
    font-weight: 700;
    color: #d8b65d;
}

/* TITRE SECTIONS */
.footer-title {
    color: #d8b65d;
    font-size: 18px;
    margin-bottom: 15px;
    font-weight: 600;
}

/* TEXTE */
.footer-text {
    font-size: 14px;
    opacity: 0.85;
    color: white;
}

/* LIENS */
.footer-links {
    list-style: none;
    padding: 0;
}
.footer-links li {
    margin-bottom: 8px;
}
.footer-links a {
    color: #ffffffc7;
    text-decoration: none;
    transition: 0.2s;
}
.footer-links a:hover {
    color: #d8b65d;
}

/* CONTACT */
.footer-contact li {
    margin-bottom: 10px;
    list-style: none;
}
.footer-contact i {
    color: #d8b65d;
    margin-right: 8px;
}

/* SOCIAL ICONS */
.footer-social a {
    display: inline-block;
    width: 38px; height: 38px;
    line-height: 38px;
    text-align: center;
    background: #d8b65d;
    border-radius: 50%;
    margin-right: 10px;
    color: #1c2228;
    font-size: 16px;
    transition: 0.3s;
}
.footer-social a:hover {
    transform: translateY(-4px);
    background: #fff;
}

/* BOTTOM COPYRIGHT */
.footer-bottom {
    border-top: 1px solid rgba(255,255,255,0.1);
    margin-top: 30px;
    padding-top: 15px;
    text-align: center;
}
.footer-bottom a {
    color: #d8b65d;
    text-decoration: none;
}
.footer-bottom a:hover {
    text-decoration: underline;
}
/* Image du petit personnage */
.footer-man {
    position: absolute;
    right: 20px;
    bottom: 10px;
}

.footer-man img {
    width: 190px;    /* taille de l'image, à ajuster */
    height: auto;
    opacity: 0.9;
    transition: 0.3s ease;
}

.footer-man img:hover {
    transform: scale(1.05);
    opacity: 1;
}

/* Responsive Footer Mobile */
@media (max-width: 768px) {
    .modern-footer .row {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .modern-footer .col-lg-3,
    .modern-footer .col-md-6 {
        width: 100%;
        margin-bottom: 25px;
    }

    .footer-logo {
        justify-content: center;
        margin-bottom: 15px;
    }

    .footer-logo img {
        margin-bottom: 10px;
    }

    .footer-social {
        justify-content: center;
    }

    .footer-links,
    .footer-contact {
        padding: 0;
        margin: 0 auto;
    }

    .footer-links li,
    .footer-contact li {
        margin-bottom: 10px;
    }

    .footer-bottom {
        text-align: center;
        margin-top: 30px;
    }
    .footer-man {
        display: none;
    }

    
}

</style>
<div class="super_container">
	
	<!-- Header -->

	<header class="header">

		<!-- Top Bar -->

		<div class="top_bar">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col d-flex justify-content-between align-items-center">

                        <!-- Phone -->
                        <div class="phone">
                            <i class="fa-solid fa-phone"></i> +45 345 3324 56789
                        </div>

                        <!-- Social Icons -->
                        <div class="social">
                            <ul class="social_list">
                                <li class="social_list_item">
                                    <a href="#" class="facebook"><i class="fa-brands fa-facebook-f" style="font-size:20px"></i></a>
                                </li>
                                <li class="social_list_item">
                                    <a href="#" class="whatsapp"><i class="fa-brands fa-whatsapp" style="font-size:20px"></i></a>
                                </li>
                            </ul>
                        </div>

                        <!-- User Box -->
                        <div class="user_box">
                            {% if app.user %}
                                <a href="#" class="user_name">{{ app.user.email }}</a>
                            {% else %}
                                <a href="#" data-toggle="modal" data-target="#loginModal" class="user_link">Connexion</a>
                                <a href="#" data-toggle="modal" data-target="#registerModal" class="user_link">Inscription</a>
                            {% endif %}
                        </div>

                    </div>
                </div>
            </div>
        </div>


		<!-- Main Navigation -->

		<nav class="main_nav">
			<div class="container">
				<div class="row">
					<div class="col main_nav_col d-flex flex-row align-items-center justify-content-start">
						<div class="logo_container">
							<div class="logo"><a href="#"><img src="#" alt=""></a></div>
						</div>
						<div class="main_nav_container ml-auto">
							<ul class="main_nav_list">
                                <li class="main_nav_item"><a href="{{path('app_accueil')}}">Accueil</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_about')}}">À propos</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_list_voitures')}}">Liste des véhicules</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_excursions_list')}}">Liste des excursions</a></li>
                                <li class="main_nav_item soon"><a href="{{path('app_front_blogs')}}">Blogs</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_contact')}}">Contact</a></li>
                            </ul>

						</div>
						<div class="user_box ml-auto">
							{% if app.user %}
							{% set initials = (app.user.nom|slice(0,1)|upper ~ app.user.prenom|slice(0,1)|upper) %}

								<div class="user_box_dropdown">
									<div class="avatar_circle" onclick="toggleDropdown()">{{ initials }}</div>
									<div id="dropdownMenu" class="dropdown_content">
										<a href="{{ path('app_logout') }}">Déconnexion</a>
									</div>
								</div>
							{% else %}
								<div class="user_box_login user_box_link"><a href="#" data-toggle="modal" data-target="#loginModal">Connexion</a></div>
								<div class="user_box_register user_box_link"><a href="#" data-toggle="modal" data-target="#registerModal">Inscription</a></div>
							{% endif %}
						</div>




						<div class="hamburger">
							<i class="fa fa-bars trans_200"></i>
						</div>
					</div>
				</div>
			</div>	
		</nav>

	</header>

	<div class="menu trans_500">
		<div class="menu_content d-flex flex-column align-items-center justify-content-center text-center">
			<div class="menu_close_container"><div class="menu_close"></div></div>
			<div class="logo menu_logo"><a href="#"><img src="#" alt=""></a></div>
			<ul>
				<li class="menu_item"><a href="#">home</a></li>
				<li class="menu_item"><a href="about.html">about us</a></li>
				<li class="menu_item"><a href="offers.html">offers</a></li>
				<li class="menu_item"><a href="blog.html">news</a></li>
				<li class="menu_item"><a href="contact.html">contact</a></li>
			</ul>
		</div>
	</div>

{% block body %}

{% endblock %}

{# Global Login Modal #}
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered auth-modal" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <div>
                    <h5 class="modal-title mb-0" id="loginModalLabel">Connexion</h5>
                    <div class="auth-title-sub">Accédez à votre compte TuniTrip</div>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body pt-0">
                {# Messages flash pour les erreurs de login #}
                {% for message in app.flashes('error_login') %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                {# Message de succès après inscription #}
                {% for message in app.flashes('success_register') %}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                <form method="post" action="{{ path('app_login') }}">
                    {% if app.user %}
                        <div class="alert alert-info small mb-3">
                            Vous êtes connecté en tant que {{ app.user.userIdentifier }},
                            <a href="{{ path('app_logout') }}">se déconnecter</a>.
                        </div>
                    {% endif %}

                    <div class="auth-field">
                        <label for="inputEmail">Email</label>
                        <i class="fa fa-envelope"></i>
                        <input
                            type="email"
                            value="{{ app.session.get('_security.last_username') }}"
                            name="email"
                            id="inputEmail"
                            class="form-control"
                            autocomplete="email"
                            required
                            autofocus
                        >
                    </div>

                    <div class="auth-field mb-2">
                        <label for="inputPassword">Mot de passe</label>
                        <i class="fa fa-lock"></i>
                        <input
                            type="password"
                            name="password"
                            id="inputPassword"
                            class="form-control"
                            autocomplete="current-password"
                            required
                        >
                    </div>

                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                    <div class="d-flex justify-content-between align-items-center mt-2 mb-3">
                        <div class="auth-footer-text">
                            Nouveau sur TuniTrip ?
                            <a href="#" data-dismiss="modal" data-toggle="modal" data-target="#registerModal">Créer un compte</a>
                        </div>
                    </div>

                    <div class="mt-2">
                        <button class="btn btn-animated-primary mt-2" type="submit">
                            Se connecter
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{# Global Register Modal #}
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered auth-modal" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <div>
                    <h5 class="modal-title mb-0" id="registerModalLabel">Créer un compte</h5>
                    <div class="auth-title-sub">Rejoignez TuniTrip en quelques secondes</div>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body pt-0">
                {# Messages flash pour le register #}
                {% for message in app.flashes('success_register') %}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                {% for message in app.flashes('error_register') %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                <form method="post" action="{{ path('app_register') }}" id="registerFormModal">
                    <div class="auth-field-row">
                        <div class="auth-field">
                            <label for="reg_nom">Nom</label>
                            <i class="fa fa-user"></i>
                            <input type="text" name="registration_form[nom]" id="reg_nom" class="form-control" required>
                        </div>
                        <div class="auth-field">
                            <label for="reg_prenom">Prénom</label>
                            <i class="fa fa-user"></i>
                            <input type="text" name="registration_form[prenom]" id="reg_prenom" class="form-control" required>
                        </div>
                    </div>
                    <div class="auth-field">
                        <label for="reg_email">Email</label>
                        <i class="fa fa-envelope"></i>
                        <input type="email" name="registration_form[email]" id="reg_email" class="form-control" required>
                    </div>
                    <div class="auth-field-row">
                        <div class="auth-field">
                            <label for="reg_adresse">Adresse</label>
                            <i class="fa fa-location-dot"></i>
                            <input type="text" name="registration_form[adresse]" id="reg_adresse" class="form-control" required>
                        </div>
                        <div class="auth-field mb-1">
                            <label for="reg_tel">Téléphone</label>
                            <i class="fa fa-phone"></i>
                            <input type="text" name="registration_form[tel]" id="reg_tel" class="form-control" required>
                        </div>
                    </div>
                    <div class="auth-field mb-2">
                        <label for="reg_password">Mot de passe</label>
                        <i class="fa fa-lock"></i>
                        <input type="password" name="registration_form[plainPassword]" id="reg_password" class="form-control" required>
                    </div>
                    <div class="form-group form-check mb-2">
                        <input type="checkbox" class="form-check-input" id="reg_agree" name="registration_form[agreeTerms]" required>
                        <label class="form-check-label" for="reg_agree">J'accepte les conditions d'utilisation</label>
                    </div>

                    <div class="auth-footer-text mb-3">
                        Vous avez déjà un compte ?
                        <a href="#" data-dismiss="modal" data-toggle="modal" data-target="#loginModal">Se connecter</a>
                    </div>
                    <input type="hidden" name="registration_form[_token]" value="{{ csrf_token('registration_form') }}">

                    <div class="d-flex justify-content-end mt-2">
                        <button type="submit" class="btn btn-animated-primary mt-2">S'inscrire</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


 <!-- Footer -->
	<footer class="modern-footer">
        <div class="footer-overlay"></div>
            <div class="container footer-content">

                <div class="row">

                    <!-- LOGO & DESCRIPTION -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="footer-logo">
                            <img src="#" alt="TuniTrip">
                            <h3>TuniTrip</h3>
                        </div>

                        <p class="footer-text">
                            Votre plateforme tunisienne dédiée aux excursions,
                            transferts et locations de voitures.
                        </p>

                        <div class="footer-social">
                            <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                            <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
                        </div>

                    </div>

                    <!-- NAVIGATION -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h4 class="footer-title">Navigation</h4>
                        <ul class="footer-links">
                            <li><a href="{{path('app_accueil')}}">Accueil</a></li>
                            <li><a href="{{path('app_front_list_voitures')}}">Voitures</a></li>
                            <li><a href="{{path('app_front_excursions_list')}}">Excursions</a></li>
                            <li><a href="{{path('app_front_blogs')}}">Blogs</a></li>
                            <li><a href="{{path('app_front_about')}}">À propos</a></li>
                            <li><a href="{{path('app_front_contact')}}">Contact</a></li>
                        </ul>
                    </div>

                    <!-- SERVICES -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h4 class="footer-title">Services</h4>
                        <ul class="footer-links">
                            <li><a href="{{path('app_front_list_voitures')}}">Réservation voitures</a></li>
                            <li><a href="{{path('app_front_excursions_list')}}">Excursions</a></li>
                            <li><a href="{{path('app_accueil')}}#transfers-section">Transferts privés</a></li>
                        </ul>
                    </div>

                    <!-- CONTACT -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h4 class="footer-title">Contact</h4>
                        <ul class="footer-contact">
                            <li><i class="fa fa-map-marker"></i> Hammamet, Tunisie</li>
                            <li><i class="fa fa-phone"></i> +216 93 313 278</li>
                            <li><i class="fa fa-envelope"></i> contact@tunitrip.com</li>
                            <li><i class="fa fa-globe"></i> www.tunitrip.com</li>
                        </ul>
                    </div>

                </div>

                <!-- Copy -->
                <div class="footer-bottom">
                    <p>© 2025 TuniTrip – Tous droits réservés. Développé par 
                        <a href="https://www.linkedin.com/in/ahmed-ksontini-9530112bb/" target="_blank">Ksontini Ahmed</a>
                    </p>
                </div>
                


            </div>
            <div class="footer-man">
                <img src="{{ asset('assetsFront/images/man_copie.png') }}" alt="man-image">
            </div>
    </footer>


</div>

<script src="{{ asset('assetsFront/js/jquery-3.2.1.min.js') }}"></script>
<script src="{{ asset('assetsFront/styles/bootstrap4/popper.js') }}"></script>
<script src="{{ asset('assetsFront/styles/bootstrap4/bootstrap.min.js') }}"></script>
<script src="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/owl.carousel.js') }}"></script>
<script src="{{ asset('assetsFront/plugins/easing/easing.js') }}"></script>
<script src="{{ asset('assetsFront/js/custom.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<script>
function toggleDropdown() {
    var dropdown = document.getElementById("dropdownMenu");
    dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
}

// Optionnel : fermer le dropdown si l'utilisateur clique en dehors
window.onclick = function(event) {
    if (!event.target.matches('.avatar_circle')) {
        var dropdown = document.getElementById("dropdownMenu");
        if (dropdown.style.display === "block") {
            dropdown.style.display = "none";
        }
    }
}
</script>

{% block script %}
<script>
$(document).ready(function () {

    // ------------------------
    // 1. Auto-hide toast après inscription
    // ------------------------
    const toast = $('#toast-success-register');
    if (toast.length) {
        setTimeout(function () {
            toast.fadeOut(400, function () {
                $(this).remove();
            });
        }, 4000);
    }

    // ------------------------
    // 2. Ouvrir login modal après register (flash)
    // ------------------------
    {% if app.flashes('open_login_after_register') is not empty %}
        $('#loginModal').modal('show');
    {% endif %}

    // ------------------------
    // 3. Gestion globale des boutons require-login
    // ------------------------
    const isLoggedIn = {{ app.user ? 'true' : 'false' }};

    $(document).on('click', '[data-require-login]', function(e) {

        // Si NON connecté → ouvrir modal login
        if (!isLoggedIn) {
            e.preventDefault();
            e.stopPropagation();
            $('#loginModal').modal('show');
            return false;
        }

        // Si connecté → on détecte l'action
        const action = $(this).data('action');

        // --- 3.1 Ouvrir modal "review" (sécurisé)
        if (action === 'open-review-modal') {
            const reviewModal = document.getElementById('reviewModal');
            if (reviewModal) {
                $(reviewModal).css('display', 'flex');
            }
        }

        // --- 3.2 Ajouter aux favoris
        if (action === 'add-favoris') {
            const excursionId = $(this).data('excursion-id');
            if (excursionId) {
                addToFavoris(excursionId);
            }
        }

       

        // Tu peux ajouter ici d'autres actions :
        // if (action === 'open-reservation-modal') { ... }
        // if (action === 'open-chat-modal') { ... }

    });

});
</script>


<script>
function toggleDropdown() {
    const menu = document.getElementById("dropdownMenu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

document.addEventListener("click", function(event) {
    const menu = document.getElementById("dropdownMenu");
    const avatar = document.querySelector(".avatar_circle");

    if (!avatar.contains(event.target)) {
        menu.style.display = "none";
    }
});
</script>

{# Script pour ouvrir automatiquement le modal de login après l'inscription #}
{% if app.flashes('open_login_after_register')|length > 0 %}
    <script>
        $(document).ready(function() {
            $('#loginModal').modal('show');
        });
    </script>
{% endif %}

{# Script pour ouvrir automatiquement le modal de login en cas d'erreur de connexion #}
{% if app.flashes('open_login_modal')|length > 0 %}
    <script>
        $(document).ready(function() {
            $('#loginModal').modal('show');
        });
    </script>
{% endif %}

{# Script pour ouvrir automatiquement le modal de register en cas d'erreur #}
{% if app.flashes('error_register')|length > 0 %}
    <script>
        $(document).ready(function() {
            $('#registerModal').modal('show');
        });
    </script>
{% endif %}
<script>
// ============================================
// AUTO-HIDE ALERTS AFTER 4 SECONDS
// ============================================
$(document).ready(function() {
    // Masquer automatiquement les alertes après 4 secondes
    setTimeout(function() {
        $('.alert').fadeOut('slow', function() {
            $(this).remove();
        });
    }, 4000);
});

// ============================================
// VALIDATION EN TEMPS RÉEL DU FORMULAIRE
// ============================================
$(document).ready(function() {
    
    // Fonction pour afficher les messages d'erreur
    function showError(input, message) {
        const formGroup = input.closest('.auth-field, .auth-field-row > div');
        let errorDiv = formGroup.find('.error-message');
        
        if (errorDiv.length === 0) {
            errorDiv = $('<div class="error-message"></div>');
            formGroup.append(errorDiv);
        }
        
        errorDiv.text(message).show();
        input.addClass('is-invalid');
    }
    
    // Fonction pour masquer les messages d'erreur
    function hideError(input) {
        const formGroup = input.closest('.auth-field, .auth-field-row > div');
        formGroup.find('.error-message').hide();
        input.removeClass('is-invalid');
    }
    
    // ============================================
    // VALIDATION NOM ET PRÉNOM (lettres uniquement)
    // ============================================
    $('#reg_nom, #reg_prenom').on('blur', function() {
        const value = $(this).val().trim();
        const fieldName = $(this).attr('id') === 'reg_nom' ? 'nom' : 'prénom';
        const regex = /^[a-zA-ZÀ-ÿ\s'-]+$/;
        
        if (value === '') {
            showError($(this), `Le ${fieldName} est requis.`);
        } else if (!regex.test(value)) {
            showError($(this), `Le ${fieldName} ne doit contenir que des lettres.`);
        } else if (value.length < 2) {
            showError($(this), `Le ${fieldName} doit contenir au moins 2 caractères.`);
        } else {
            hideError($(this));
        }
    });
    
    // ============================================
    // VALIDATION EMAIL
    // ============================================
    $('#reg_email').on('blur', function() {
        const value = $(this).val().trim();
        const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        
        if (value === '') {
            showError($(this), 'L\'email est requis.');
        } else if (!regex.test(value)) {
            showError($(this), 'Veuillez entrer un email valide (ex: exemple@domaine.com).');
        } else {
            hideError($(this));
        }
    });
    
    // ============================================
    // VALIDATION TÉLÉPHONE (chiffres uniquement)
    // ============================================
    $('#reg_tel').on('blur', function() {
        const value = $(this).val().trim();
        const regex = /^[0-9]{8,15}$/;
        
        if (value === '') {
            showError($(this), 'Le téléphone est requis.');
        } else if (!/^[0-9]+$/.test(value)) {
            showError($(this), 'Le téléphone ne doit contenir que des chiffres.');
        } else if (!regex.test(value)) {
            showError($(this), 'Le téléphone doit contenir entre 8 et 15 chiffres.');
        } else {
            hideError($(this));
        }
    });
    
    // Empêcher la saisie de caractères non numériques dans le téléphone
    $('#reg_tel').on('keypress', function(e) {
        const charCode = e.which ? e.which : e.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57)) {
            e.preventDefault();
            return false;
        }
    });
    
    // ============================================
    // VALIDATION MOT DE PASSE
    // ============================================
    $('#reg_password').on('blur', function() {
        const value = $(this).val();
        
        if (value === '') {
            showError($(this), 'Le mot de passe est requis.');
            return;
        }
        
        // Vérifications individuelles
        const hasUpperCase = /[A-Z]/.test(value);
        const hasLowerCase = /[a-z]/.test(value);
        const hasNumber = /[0-9]/.test(value);
        const hasSpecialChar = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(value);
        const validLength = value.length >= 8 && value.length <= 12;
        
        let errors = [];
        
        if (!validLength) {
            errors.push('entre 8 et 12 caractères');
        }
        if (!hasUpperCase) {
            errors.push('une lettre majuscule');
        }
        if (!hasLowerCase) {
            errors.push('une lettre minuscule');
        }
        if (!hasNumber) {
            errors.push('un chiffre');
        }
        if (!hasSpecialChar) {
            errors.push('un caractère spécial (!@#$%...)');
        }
        
        if (errors.length > 0) {
            showError($(this), 'Le mot de passe doit contenir : ' + errors.join(', ') + '.');
        } else {
            hideError($(this));
        }
    });
    
    // ============================================
    // VALIDATION À LA SOUMISSION DU FORMULAIRE
    // ============================================
    $('#registerFormModal').on('submit', function(e) {
        let hasError = false;
        
        // Valider tous les champs
        $('#reg_nom, #reg_prenom, #reg_email, #reg_tel, #reg_password').each(function() {
            $(this).trigger('blur');
            if ($(this).hasClass('is-invalid')) {
                hasError = true;
            }
        });
        
        // Vérifier les conditions d'utilisation
        if (!$('#reg_agree').is(':checked')) {
            alert('Vous devez accepter les conditions d\'utilisation.');
            hasError = true;
        }
        
        // Empêcher la soumission si erreur
        if (hasError) {
            e.preventDefault();
            return false;
        }
    });
    
    // Réinitialiser les erreurs lors de la modification
    $('#reg_nom, #reg_prenom, #reg_email, #reg_tel, #reg_password, #reg_adresse').on('input', function() {
        if ($(this).val().trim() !== '') {
            hideError($(this));
        }
    });
});
</script>
{# Script pour ouvrir automatiquement le modal de register en cas d'erreur #}
{% if app.flashes('open_register_modal')|length > 0 %}
    <script>
        $(document).ready(function() {
            $('#registerModal').modal('show');
        });
    </script>
{% endif %}
{% endblock %}

</body>


<!-- Mirrored from html.themeholy.com/Habilux/demo/home-5.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Dec 2024 14:30:12 GMT -->
</html>