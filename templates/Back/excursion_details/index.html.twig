{% extends 'baseBack.html.twig' %}

{% block title %}Liste des d√©tails d'excursions{% endblock %}

{% block body %}
<div class="container mt-4">

    <h2 class="mb-4">üìÑ D√©tails pour : <strong>{{ excursion.titre }}</strong></h2>

    {% if details is empty %}
        <div class="alert alert-info">
            Aucun d√©tail trouv√© pour cette excursion.
        </div>
    {% else %}
        <table class="table table-striped table-bordered align-middle">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Titre</th>
                    <th>Ordre</th>
                    <th>Description</th>
                    <th style="width: 120px;">Actions</th>
                </tr>
            </thead>

            <tbody>
            {% for detail in details %}
                <tr>
                    <td>{{ detail.id }}</td>
                    <td>{{ detail.titre }}</td>
                    <td>{{ detail.ordre }}</td>
                    <td>
                        {{ detail.description|length > 50 
                            ? detail.description|slice(0,50) ~ '...' 
                            : detail.description 
                        }}
                    </td>
                    <td>
                        <div class="btn-group">
                            <a href="{{ path('excursion_details_add', {id: detail.excursion.id}) }}" 
                               class="btn btn-sm btn-primary" title="Ajouter un autre d√©tail">
                                ‚ûï
                            </a>

                            <a href="{{ path('excursion_details_edit', {id: detail.id}) }}" 
                                class="btn btn-sm btn-warning">
                                ‚úèÔ∏è 
                            </a>


                            <form action="{{ path('excursion_details_delete', {'id': detail.id}) }}" method="post" class="d-inline">
                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ detail.id) }}">
                                <button class="btn btn-sm btn-danger">
                                    üóëÔ∏è
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

</div>

{% endblock %}
