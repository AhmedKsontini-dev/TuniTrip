<!DOCTYPE html>
<html lang="fr">
<head>
<title>{% block title %} {% endblock %}</title>

<meta name="description" content="{% block metaDescription %}
TuniTrip, agence de location en Tunisie spécialisée dans les excursions, transferts et locations touristiques.
{% endblock %}">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="TuniTrip - voyage trip travel agence de voyage transfère">
<meta name="author" content="TuniTrip">


<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/styles/bootstrap4/bootstrap.min.css') }}">
<link href="{{ asset('assetsFront/plugins/font-awesome-4.7.0/css/font-awesome.min.css') }}" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/owl.carousel.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/owl.theme.default.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/animate.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/styles/main_styles.css') }}">
<link rel="stylesheet" type="text/css" href="{{ asset('assetsFront/styles/responsive.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="{{ asset('assetsFront/css/chatbot.css') }}">


{% block stylesheet %}
    <link rel="stylesheet" href="{{ asset('assetsFront/css/contact.css') }}">
    

{% endblock %}


</head>


<body>
<style>
/* Container */
.user_box {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* ------------------------------
   MODE CONNECTÉ
--------------------------------*/

/* Avatar rond moderne */
.avatar_circle {
    width: 42px;
    height: 42px;
    background: #1c2228;
    color: #fff;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s ease;
}

.avatar_circle:hover {
    background: #2e363d;
    transform: scale(1.05);
}

/* Dropdown Menu */
.dropdown_content {
    display: none;
    position: absolute;
    background: #1c2228;
    right: 0;
    margin-top: 8px;
    min-width: 160px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.15);
    border-radius: 10px;
    overflow: hidden;
    z-index: 9999;
    animation: fadeIn 0.25s ease-out;
}

.dropdown_content a {
    display: block;
    padding: 12px 16px;
    color: white;
    text-decoration: none;
    font-size: 15px;
    transition: 0.3s;
}

.dropdown_content a:hover {
    background: #d8b65d;
    color: #1c2228 
}

/* Animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ------------------------------
   MODE DÉCONNECTÉ
--------------------------------*/

/* Boutons login/register modernes */
.btn-user {
    background: #ffffff;
    color: #1c2228;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    border: 1px solid #1c2228;
    transition: 0.3s ease;
    text-decoration: none;
}

.btn-user:hover {
    background: #1c2228;
    color: #ffffff;
    border-color: #1c2228;
    transform: translateY(-2px);
}


/* Style du badge */
.main_nav_item.soon {
  position: relative; /* nécessaire pour positionner le badge */
}

.main_nav_item.soon a::after {
  content: "SOON"; /* texte du badge */
  position: absolute;
  top: -14px;       /* au-dessus du lien */
  right: -27px;    /* à droite du lien */
  background-color: #D7B65D; /* couleur du badge */
  color: #192026; /* couleur du texte */
  font-size: 10px;
  font-weight: bold;
  padding: 2px 6px;
  border-radius: 8px; /* badge arrondi */
  text-transform: uppercase;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* ========================================
   TuniTrip - Modal Authentication Styles
   Couleurs: #1c2228 (principal), #d8b65d (secondaire)
   ======================================== */

/* Modal Overlay */
.modal.fade .modal-dialog {
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
}

.modal-backdrop.show {
    opacity: 0.7;
    background: #1c2228;
}

/* Modal Container */
.auth-modal {
    max-width: 480px;
    margin: 1.75rem auto;
}

.auth-modal .modal-content {
    border: none;
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(28, 34, 40, 0.3);
    overflow: hidden;
    background: #ffffff;
}

/* Modal Header */
.auth-modal .modal-header {
    background: linear-gradient(135deg, #1c2228 0%, #2a3139 100%);
    padding: 1rem 2rem 1.5rem;
    border-bottom: 3px solid #d8b65d;
}

.auth-modal .modal-title {
    color: #ffffff;
    font-size: 1.75rem;
    font-weight: 700;
    letter-spacing: -0.5px;
}

.auth-title-sub {
    color: #d8b65d;
    font-size: 0.9rem;
    font-weight: 400;
    margin-top: 0.25rem;
    opacity: 0.95;
}

.auth-modal .close {
    color: #ffffff;
    opacity: 0.8;
    font-size: 1.75rem;
    font-weight: 300;
    text-shadow: none;
    transition: all 0.2s ease;
    margin-top: -0.5rem;
}

.auth-modal .close:hover {
    opacity: 1;
    color: #d8b65d;
    transform: rotate(90deg);
}

/* Modal Body */
.auth-modal .modal-body {
    padding: 2rem;
    background: #ffffff;
}

/* Form Fields */
.auth-field,
.auth-field-row {
    position: relative;
    margin-bottom: 1.25rem;
}

.auth-field-row {
    display: flex;
    gap: 1rem;
}

.auth-field-row .auth-field {
    flex: 1;
}

.auth-field label {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    color: #1c2228;
    margin-bottom: 0.5rem;
    letter-spacing: 0.3px;
}

.auth-field i {
    position: absolute;
    left: 1rem;
    top: 48px;
    color: #d8b65d;
    font-size: 1rem;
    z-index: 1;
}

.auth-field .form-control {
    padding: 0.875rem 1rem 0.875rem 2.75rem;
    border: 2px solid #e8e9eb;
    border-radius: 10px;
    font-size: 0.95rem;
    transition: all 0.3s ease;
    background: #f8f9fa;
    color: #1c2228;
}

.auth-field .form-control:focus {
    background: #ffffff;
    border-color: #d8b65d;
    box-shadow: 0 0 0 4px rgba(216, 182, 93, 0.1);
    outline: none;
}

.auth-field .form-control::placeholder {
    color: #a0a4a8;
}

/* Checkbox Styling */
.form-check {
    padding-left: 1.75rem;
}

.form-check-input {
    width: 1.25rem;
    height: 1.25rem;
    margin-top: 0.125rem;
    border: 2px solid #d8b65d;
    border-radius: 4px;
    cursor: pointer;
}

.form-check-input:checked {
    background-color: #d8b65d;
    border-color: #d8b65d;
}

.form-check-input:focus {
    box-shadow: 0 0 0 3px rgba(216, 182, 93, 0.2);
}

.form-check-label {
    font-size: 0.875rem;
    color: #5a6169;
    cursor: pointer;
    user-select: none;
}

/* Auth Footer Text */
.auth-footer-text {
    font-size: 0.875rem;
    color: #5a6169;
    text-align: center;
    margin: 0.5rem 0;
}

.auth-footer-text a {
    color: #d8b65d;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
    position: relative;
}

.auth-footer-text a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -2px;
    left: 0;
    background-color: #d8b65d;
    transition: width 0.3s ease;
}

.auth-footer-text a:hover {
    color: #c4a54d;
}

.auth-footer-text a:hover::after {
    width: 100%;
}

/* Primary Button */
.btn-auth-primary {
    background: linear-gradient(135deg, #d8b65d 0%, #c4a54d 100%);
    border: none;
    color: #1c2228;
    font-weight: 600;
    font-size: 1rem;
    padding: 0.875rem 2rem;
    border-radius: 10px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(216, 182, 93, 0.3);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    font-size: 0.875rem;
}

.btn-auth-primary:hover {
    background: linear-gradient(135deg, #c4a54d 0%, #d8b65d 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(216, 182, 93, 0.4);
    color: #1c2228;
}

.btn-auth-primary:active {
    transform: translateY(0);
}

.btn-auth-primary:focus {
    box-shadow: 0 0 0 4px rgba(216, 182, 93, 0.3);
    outline: none;
}

/* ============================================
   VALIDATION STYLES
   ============================================ */

/* Message d'erreur sous les champs */
.error-message {
    display: none;
    color: #c53030;
    font-size: 0.75rem;
    margin-top: 0.25rem;
    padding: 0.25rem 0.5rem;
    background: #fff5f5;
    border-left: 3px solid #c53030;
    border-radius: 4px;
}

/* Input invalide */
.auth-field input.is-invalid {
    border-color: #c53030 !important;
    background-color: #fff5f5;
}

.auth-field input.is-invalid:focus {
    border-color: #c53030 !important;
    box-shadow: 0 0 0 0.2rem rgba(197, 48, 48, 0.25);
}

/* Input valide */
.auth-field input.is-valid {
    border-color: #15803d !important;
    background-color: #f0fdf4;
}

.auth-field input.is-valid:focus {
    border-color: #15803d !important;
    box-shadow: 0 0 0 0.2rem rgba(21, 128, 61, 0.25);
}

/* Alert Messages avec animation de fermeture */
.alert {
    border-radius: 10px;
    border: none;
    padding: 1rem;
    font-size: 0.875rem;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.alert-danger {
    background: #c53030;
    color: #f0fdf4;
    border-left: 4px solid #c53030;
}

.alert-success {
    background: #15803d;
    color: #f0fdf4;
    border-left: 4px solid #15803d;
}

.alert-info {
    background: #f0f9ff;
    color: #1c2228;
    border-left: 4px solid #d8b65d;
}

.alert-info a {
    color: #d8b65d;
    font-weight: 600;
    text-decoration: underline;
}

/* Responsive Design */
@media (max-width: 576px) {
    .auth-modal {
        margin: 0.5rem;
    }
    
    .auth-modal .modal-header {
        padding: 1.5rem 1.25rem 1.25rem;
    }
    
    .auth-modal .modal-body {
        padding: 1.5rem 1.25rem;
    }
    
    .auth-modal .modal-title {
        font-size: 1.5rem;
    }
    
    .auth-field-row {
        flex-direction: column;
        gap: 0;
    }
    
    .btn-auth-primary {
        padding: 0.75rem 1.5rem;
    }
}

/* Animation Enhancement */
@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translate3d(0, -20%, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

.modal.show .modal-dialog {
    animation: slideInDown 0.4s ease-out;
}

/* Focus Visible for Accessibility */
*:focus-visible {
    outline: 2px solid #d8b65d;
    outline-offset: 2px;
}

button:focus-visible {
    outline-offset: 4px;
}
/* Alignement des titres */
.footer_title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 20px;
    text-transform: uppercase;
}

/* Liens */
.footer_links ul {
    padding: 0;
    margin: 0;
}

.footer_links ul li {
    list-style: none;
    margin-bottom: 10px;
}

.footer_links ul li a {
    color: #a5a5a5;
    font-size: 15px;
}

.footer_links ul li a:hover {
    color: #fff;
}

/* Icônes Contact */
.contact_info_item {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.contact_info_icon {
    width: 30px;
    height: 30px;
    background: #ff5722;
    color: #fff;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-right: 12px;
    font-size: 14px;
}

/* Icônes social media */
.footer_social_item a i {
    font-size: 18px;
    width: 38px;
    height: 38px;
    background: #ff5722;
    color: #fff;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.footer_social_item a i:hover {
    background: #e65100;
}
/* Bouton animé primaire (doré/sombre) */
.btn-animated-primary {
    position: relative;
    display: inline-block;
    border: none;
    border-radius: 27px;
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    padding: 10px 25px;
    cursor: pointer;
    overflow: hidden;
    background: linear-gradient(270deg, #2a3138, #d8b65d, #2a3138);
    background-size: 600% 600%;
    animation: gradientMove 5s ease infinite;
    transition: color 0.3s;
}

/* Animation gradient partagé */
@keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Numéro */
.phone {
    font-size: 15px;
    transition: 0.3s;
}

.phone i {
    margin-right: 5px;
    font-size: 20px; /* Icône téléphone */
}

/* Hover numéro */
.phone:hover {
    color: #1c2228;
}

/* User name */
.user_box .user_name {
    color: white !important;
    font-weight: 600;
}

/* Hover Login / Register / User Name */
.user_box a:hover {
    color: #1c2228 !important;
}
.user_link{
    color: white;
}

/* FOOTER BACKGROUND */
.modern-footer {
    position: relative;
    background: linear-gradient(to bottom, #1c2228 0%, #1c2228 70%, #ffffff 100%);
    padding: 60px 0 20px;
    color: #fff;
    z-index: 1;
}

/* OVERLAY (pour rendre le texte lisible) */
.modern-footer .footer-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(28, 34, 40, 0.85);
    z-index: -1;
}

/* LOGO */
.footer-logo img {
    width: 55px;
    margin-bottom: 10px;
}
.footer-logo h3 {
    font-size: 22px;
    font-weight: 700;
    color: #d8b65d;
}

/* TITRE SECTIONS */
.footer-title {
    color: #d8b65d;
    font-size: 18px;
    margin-bottom: 15px;
    font-weight: 600;
}

/* TEXTE */
.footer-text {
    font-size: 14px;
    opacity: 0.85;
    color: white;
}

/* LIENS */
.footer-links {
    list-style: none;
    padding: 0;
}
.footer-links li {
    margin-bottom: 8px;
}
.footer-links a {
    color: #ffffffc7;
    text-decoration: none;
    transition: 0.2s;
}
.footer-links a:hover {
    color: #d8b65d;
}

/* CONTACT */
.footer-contact li {
    margin-bottom: 10px;
    list-style: none;
}
.footer-contact i {
    color: #d8b65d;
    margin-right: 8px;
}

/* SOCIAL ICONS */
.footer-social a {
    display: inline-block;
    width: 38px; height: 38px;
    line-height: 38px;
    text-align: center;
    background: #d8b65d;
    border-radius: 50%;
    margin-right: 10px;
    color: #1c2228;
    font-size: 16px;
    transition: 0.3s;
}
.footer-social a:hover {
    transform: translateY(-4px);
    background: #fff;
}

/* BOTTOM COPYRIGHT */
.footer-bottom {
    border-top: 1px solid rgba(255,255,255,0.1);
    margin-top: 30px;
    padding-top: 15px;
    text-align: center;
}
.footer-bottom a {
    color: #d8b65d;
    text-decoration: none;
}
.footer-bottom a:hover {
    text-decoration: underline;
}
/* Image du petit personnage */
.footer-man {
    position: absolute;
    right: 20px;
    bottom: 10px;
}

.footer-man img {
    width: 190px;    /* taille de l'image, à ajuster */
    height: auto;
    opacity: 0.9;
    transition: 0.3s ease;
}

.footer-man img:hover {
    transform: scale(1.05);
    opacity: 1;
}

/* Responsive Footer Mobile */
@media (max-width: 768px) {
    .modern-footer .row {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .modern-footer .col-lg-3,
    .modern-footer .col-md-6 {
        width: 100%;
        margin-bottom: 25px;
    }

    .footer-logo {
        justify-content: center;
        margin-bottom: 15px;
    }

    .footer-logo img {
        margin-bottom: 10px;
    }

    .footer-social {
        justify-content: center;
    }

    .footer-links,
    .footer-contact {
        padding: 0;
        margin: 0 auto;
    }

    .footer-links li,
    .footer-contact li {
        margin-bottom: 10px;
    }

    .footer-bottom {
        text-align: center;
        margin-top: 30px;
    }
    .footer-man {
        display: none;
    }

    
}





/* Menu Mobile Styles */
.menu {
    position: fixed;
    top: 0;
    right: -100%;
    width: 320px;
    height: 100vh;
    background: #1c2228;
    z-index: 10000;
    transition: all 0.5s ease;
    overflow-y: auto;
    box-shadow: -5px 0 20px rgba(0, 0, 0, 0.3);
}

.menu.active {
    right: 0;
}

.menu_content {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 20px;
}

/* Header */
.menu_header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start !important;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(216, 182, 93, 0.2);
    margin-bottom: 20px;
}

.menu_logo img {
    max-height: 40px;
    width: auto;
}

.menu_close_container {
    cursor: pointer;
}

.menu_close {
    width: 40px;
    height: 40px;
    background: rgba(216, 182, 93, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.menu_close i {
    color: #d8b65d;
    font-size: 20px;
}

.menu_close:hover {
    background: #d8b65d;
    transform: rotate(90deg);
}

.menu_close:hover i {
    color: #1c2228;
}

/* User Section */
.menu_user_section {
    background: linear-gradient(135deg, rgba(216, 182, 93, 0.15), rgba(216, 182, 93, 0.05));
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 25px;
    display: flex;
    align-items: center;
    gap: 12px;
    border: 1px solid rgba(216, 182, 93, 0.2);
}

.menu_user_avatar {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #d8b65d, #c9a84d);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #1c2228;
    font-weight: 700;
    font-size: 18px;
    flex-shrink: 0;
    box-shadow: 0 4px 10px rgba(216, 182, 93, 0.3);
}

.menu_user_info {
    flex: 1;
    min-width: 0;
}

.menu_user_email {
    color: #fff;
    font-size: 14px;
    font-weight: 500;
    display: block;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Navigation */
.menu_navigation {
    flex: 1;

}

.menu_list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.menu_item {
    margin-bottom: 5px;
}

.menu_item a {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 14px 16px;
    color: #fff;
    text-decoration: none;
    border-radius: 10px;
    transition: all 0.3s ease;
    font-size: 15px;
    font-weight: 500;
    position: relative;
    overflow: hidden;
    font-family: sans-serif;
}

.menu_item a::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 4px;
    height: 100%;
    background: #d8b65d;
    transform: scaleY(0);
    transition: transform 0.3s ease;
}

.menu_item a:hover::before,
.menu_item a.active::before {
    transform: scaleY(1);
}

.menu_item a i {
    color: #d8b65d;
    font-size: 20px;
    width: 24px;
    text-align: center;
    flex-shrink: 0;
}

.menu_item a span {
    flex: 1;
}

.menu_item a:hover {
    background: rgba(216, 182, 93, 0.1);
    padding-left: 20px;
}

.menu_item.logout a {
    color: #ff6b6b;
}

.menu_item.logout a i {
    color: #ff6b6b;
}

.menu_item.logout a:hover {
    background: rgba(255, 107, 107, 0.1);
}

/* Divider */
.menu_divider {
    height: 1px;
    background: rgba(216, 182, 93, 0.2);
    margin: 15px 0;
}

/* Footer */
.menu_footer {
    padding-top: 20px;
    border-top: 1px solid rgba(216, 182, 93, 0.2);
    margin-top: auto;
}

/* Language Switch */
.menu_lang_switch {
    background: rgba(216, 182, 93, 0.05);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
}

.lang_label {
    color: #d8b65d;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
}

.lang_label i {
    font-size: 16px;
}

.lang_buttons {
    display: flex;
    gap: 10px;
}

.lang_btn {
    flex: 1;
    padding: 10px;
    background: rgba(255, 255, 255, 0.05);
    color: #fff;
    text-align: center;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.lang_btn:hover {
    background: rgba(216, 182, 93, 0.1);
    border-color: #d8b65d;
    color: #d8b65d;
    transform: translateY(-2px);
}

.lang_btn.active {
    background: #d8b65d;
    color: #1c2228;
    font-weight: 700;
}

/* Contact */
.menu_contact {
    margin-bottom: 15px;
}

.menu_phone {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 15px;
    background: rgba(216, 182, 93, 0.05);
    border-radius: 10px;
    color: #fff;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
}

.menu_phone i {
    color: #d8b65d;
    font-size: 16px;
}

.menu_phone:hover {
    background: rgba(216, 182, 93, 0.15);
    transform: translateX(5px);
}

/* Social Links */
.menu_social {
    display: flex;
    gap: 10px;
    justify-content: center;
}

.social_link {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 2px solid rgba(216, 182, 93, 0.2);
}

.social_link i {
    font-size: 18px;
}

.social_link.facebook {
    color: #1877f2;
}

.social_link.whatsapp {
    color: #25d366;
}

.social_link:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(216, 182, 93, 0.3);
    border-color: #d8b65d;
}

.social_link.facebook:hover {
    background: #1877f2;
    color: #fff;
}

.social_link.whatsapp:hover {
    background: #25d366;
    color: #fff;
}

/* Scrollbar */
.menu_navigation::-webkit-scrollbar {
    width: 6px;
}

.menu_navigation::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
}

.menu_navigation::-webkit-scrollbar-thumb {
    background: #d8b65d;
    border-radius: 10px;
}

.menu_navigation::-webkit-scrollbar-thumb:hover {
    background: #c9a84d;
}

/* Responsive */
@media (max-width: 360px) {
    .menu {
        width: 100%;
    }
}

/* Animation pour le hamburger */
.hamburger {
    cursor: pointer;
    padding: 10px;
}

.hamburger i {
    font-size: 24px;
    color: white;
    transition: all 0.3s ease;
}

.hamburger:hover i {
    color: #d8b65d;
}



@media (max-width: 991px) {
   

    /* Main nav réduit */
    .main_nav {
        max-height: 100px;
    }

    /* Ajuste le conteneur des items pour centrer verticalement */
    .main_nav_col {
        align-items: center;
    }

    /* Cache les liens principaux et ne garde que le hamburger */
    .main_nav_container {
        display: none;
    }

    /* Hamburger à droite, centré verticalement */
    .hamburger {
        margin-left: auto; /* pousse à droite */
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%; /* prend toute la hauteur du main_nav */
    }

    .hamburger i {
        font-size: 28px;
        color: #fff;
    }
    .user_name{
        display: none;
    }
    .top_bar{
        display: none;
    }
}

.menu_header {
    display: flex;
    align-items: center;     /* centre verticalement */
    justify-content: space-between; /* espace entre logo et close */
    gap: 15px;               /* petit espace entre logo et bouton */
    padding: 10px 0;
}

.menu_logo img {
    max-height: 40px;
    width: auto;
}

.menu_close_container {
    cursor: pointer;
}

.menu_close {
    width: 40px;
    height: 40px;
    background: rgba(216, 182, 93, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.menu_close i {
    color: #d8b65d;
    font-size: 20px;
}

.menu_close:hover {
    background: #d8b65d;
    transform: rotate(90deg);
}

.menu_close:hover i {
    color: #1c2228;
}

@media (max-width: 991px) {
    .menu_close_container{
        display: contents;
    }
    .user_box_dropdown{
        display: none; 
    }
}

.menu_close::after{
    display: none !important;
}
</style>
<div class="super_container">
	
	<!-- Header -->

	<header class="header">

		<!-- Top Bar -->

		<div class="top_bar">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col d-flex justify-content-between align-items-center">

                        <!-- Phone -->
                        <div class="phone">
                            <i class="fa-solid fa-phone"></i> +216 26 341 186
                        </div>

                        <!-- Social Icons -->
                        <div class="social">
                            <ul class="social_list">
                                <li class="social_list_item">
                                    <a href="#" class="facebook"><i class="fa-brands fa-facebook-f" style="font-size:20px"></i></a>
                                </li>
                                <li class="social_list_item">
                                    <a href="#" class="whatsapp"><i class="fa-brands fa-whatsapp" style="font-size:20px"></i></a>
                                </li>
                            </ul>
                        </div>

                        <!-- User Box -->
                        <div class="user_box">
                            {% if app.user %}
                                <a href="#" class="user_name">{{ app.user.email }}</a>
                            {% else %}
                                <a href="#" data-toggle="modal" data-target="#loginModal" class="user_link">{{'menu.connexion'|trans}}</a>
                                <a href="#" data-toggle="modal" data-target="#registerModal" class="user_link">{{'menu.inscription'|trans}}</a>
                            {% endif %}
                        </div>

                    </div>
                </div>
            </div>
        </div>


		<!-- Main Navigation -->

		<nav class="main_nav">
			<div class="container">
				<div class="row">
					<div class="col main_nav_col d-flex flex-row align-items-center justify-content-start">
						<div class="logo_container">
							<div class="logo"><a href="#"><img src="#" alt=""></a></div>
						</div>
						<div class="main_nav_container ml-auto">
							<ul class="main_nav_list">
                                <li class="main_nav_item"><a href="{{path('app_accueil')}}">{{ 'menu.home'|trans }}</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_about')}}">{{ 'menu.about'|trans }}</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_list_voitures')}}">{{ 'menu.vehicles'|trans }}</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_excursions_list')}}">{{ 'menu.excursions'|trans }}</a></li>
                                <li class="main_nav_item soon"><a href="{{path('app_front_blogs')}}">{{ 'menu.blogs'|trans }}</a></li>
                                <li class="main_nav_item"><a href="{{path('app_front_contact')}}">{{ 'menu.contact'|trans }}</a></li>
								<li class="main_nav_item dropdown">
									<a class="dropdown-toggle" href="#" id="languageDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										{{ app.request.locale|upper }}
									</a>
									<div class="dropdown-menu" aria-labelledby="languageDropdown" >
										<a class="dropdown-item" href="{{ path('change_locale', {'_locale': 'fr'}) }}">FR</a>
										<a class="dropdown-item" href="{{ path('change_locale', {'_locale': 'en'}) }}">EN</a>
									</div>
								</li>
							</ul>

						</div>
						<div class="user_box ml-auto">
							{% if app.user %}
							{% set initials = (app.user.nom|slice(0,1)|upper ~ app.user.prenom|slice(0,1)|upper) %}

								<div class="user_box_dropdown">
									<div class="avatar_circle" onclick="toggleDropdown()">{{ initials }}</div>
									<div id="dropdownMenu" class="dropdown_content">
										{% if is_granted('ROLE_ADMIN') %}
											<a href="{{ path('admin_dashboard') }}">{{'avatar.dashboard'|trans}}</a>
										{% endif %}
										<a href="{{ path('app_front_favoris_index') }}">{{'avatar.favoris'|trans}}</a>
										<a href="{{ path('app_logout') }}">{{'avatar.deconnexion'|trans}}</a>
									</div>
								</div>
							
							{% endif %}
						</div>




						<div class="hamburger">
							<i class="fa fa-bars trans_200"></i>
						</div>
					</div>
				</div>
			</div>	
		</nav>

	</header>

	<!-- MOBILE MENU -->
    <div class="menu trans_500">
        <div class="menu_content">
            <!-- Header du menu -->
            <div class="menu_header d-flex">
                <div class="logo menu_logo">
                    <a href="{{ path('app_accueil') }}">
                        <img src="{{ asset('assetsFront/images/logo.png') }}" alt="TuniTrip">
                    </a>
                </div>
                <div class="menu_close_container">
                    <div class="menu_close">
                        <i class="fa fa-times"></i>
                    </div>
                </div>
            </div>


            <!-- User Info Section -->
            {% if app.user %}
            <div class="menu_user_section">
                {% set initials = (app.user.nom|slice(0,1)|upper ~ app.user.prenom|slice(0,1)|upper) %}
                <div class="menu_user_avatar">{{ initials }}</div>
                <div class="menu_user_info">
                    <span class="menu_user_email">{{ app.user.email }}</span>
                </div>
            </div>
            {% endif %}

            <!-- Navigation Links -->
            <nav class="menu_navigation">
                <ul class="menu_list">
                    <li class="menu_item">
                        <a href="{{ path('app_accueil') }}">
                            <i class="fa-solid fa-house"></i>
                            <span>{{ 'menu.home'|trans }}</span>
                        </a>
                    </li>

                    <li class="menu_item">
                        <a href="{{ path('app_front_about') }}">
                            <i class="fa-solid fa-circle-info"></i>
                            <span>{{ 'menu.about'|trans }}</span>
                        </a>
                    </li>

                    <li class="menu_item">
                        <a href="{{ path('app_front_list_voitures') }}">
                            <i class="fa-solid fa-car"></i>
                            <span>{{ 'menu.vehicles'|trans }}</span>
                        </a>
                    </li>

                    <li class="menu_item">
                        <a href="{{ path('app_front_excursions_list') }}">
                            <i class="fa-solid fa-map-location-dot"></i>
                            <span>{{ 'menu.excursions'|trans }}</span>
                        </a>
                    </li>

                    <li class="menu_item">
                        <a href="{{ path('app_front_blogs') }}">
                            <i class="fa-solid fa-blog"></i>
                            <span>{{ 'menu.blogs'|trans }}</span>
                        </a>
                    </li>

                    <li class="menu_item">
                        <a href="{{ path('app_front_contact') }}">
                            <i class="fa-solid fa-envelope"></i>
                            <span>{{ 'menu.contact'|trans }}</span>
                        </a>
                    </li>

                    {% if app.user %}
                    <li class="menu_divider"></li>

                    <li class="menu_item">
                        <a href="{{ path('app_front_favoris_index') }}">
                            <i class="fa-solid fa-heart"></i>
                            <span>Mes Favoris</span>
                        </a>
                    </li>

                    {% if is_granted('ROLE_ADMIN') %}
                    <li class="menu_item">
                        <a href="{{ path('admin_dashboard') }}">
                            <i class="fa-solid fa-gauge"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    {% endif %}

                    <li class="menu_item logout">
                        <a href="{{ path('app_logout') }}">
                            <i class="fa-solid fa-right-from-bracket"></i>
                            <span>Déconnexion</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>

            <!-- Footer du menu -->
            <div class="menu_footer">
                <!-- Language Switch -->
                <div class="menu_lang_switch">
                    <span class="lang_label">
                        <i class="fa-solid fa-globe"></i>
                        Langue
                    </span>
                    <div class="lang_buttons">
                        <a href="{{ path('change_locale', {'_locale': 'fr'}) }}" 
                        class="lang_btn {% if app.request.locale == 'fr' %}active{% endif %}">
                            FR
                        </a>
                        <a href="{{ path('change_locale', {'_locale': 'en'}) }}" 
                        class="lang_btn {% if app.request.locale == 'en' %}active{% endif %}">
                            EN
                        </a>
                    </div>
                </div>

                <!-- Contact Info -->
                <div class="menu_contact">
                    <a href="tel:+21626341186" class="menu_phone">
                        <i class="fa-solid fa-phone"></i>
                        +216 26 341 186
                    </a>
                </div>

                <!-- Social Links -->
                <div class="menu_social">
                    <a href="#" class="social_link facebook">
                        <i class="fa-brands fa-facebook-f"></i>
                    </a>
                    <a href="#" class="social_link whatsapp">
                        <i class="fa-brands fa-whatsapp"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

{% block body %}


{% endblock %}

{# Global Login Modal #}
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered auth-modal" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <div>
                    <h5 class="modal-title mb-0" id="loginModalLabel">{{ 'auth.login.title'|trans }}</h5>
                    <div class="auth-title-sub">{{ 'auth.login.subtitle'|trans }}</div>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body pt-0">
                {# Messages flash pour les erreurs de login #}
                {% for message in app.flashes('error_login') %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                {# Message de succès après inscription #}
                {% for message in app.flashes('success_register') %}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                <form method="post" action="{{ path('app_login') }}">
                    {% if app.user %}
                        <div class="alert alert-info small mb-3">
                            {{ 'auth.user_connected'|trans }} {{ app.user.userIdentifier }},
                            <a href="{{ path('app_logout') }}">{{ 'auth.logout_link'|trans }}</a>.
                        </div>
                    {% endif %}

                    <div class="auth-field">
                        <label for="inputEmail">{{ 'auth.email'|trans }}</label>
                        <i class="fa fa-envelope"></i>
                        <input
                            type="email"
                            value="{{ app.session.get('_security.last_username') }}"
                            name="email"
                            id="inputEmail"
                            class="form-control"
                            autocomplete="email"
                            required
                            autofocus
                        >
                    </div>

                    <div class="auth-field mb-2">
                        <label for="inputPassword">{{ 'auth.password'|trans }}</label>
                        <i class="fa fa-lock"></i>
                        <input
                            type="password"
                            name="password"
                            id="inputPassword"
                            class="form-control"
                            autocomplete="current-password"
                            required
                        >
                    </div>

                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                    <div class="d-flex justify-content-between align-items-center mt-2 mb-3">
                        <div class="auth-footer-text">
                            {{ 'auth.new_user'|trans }}
                            <a href="#" data-dismiss="modal" data-toggle="modal" data-target="#registerModal">{{ 'auth.create_account'|trans }}</a>
                        </div>
                    </div>

                    <div class="mt-2">
                        <button class="btn btn-animated-primary mt-2" type="submit">
                            {{ 'auth.login_btn'|trans }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{# Global Register Modal #}
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered auth-modal" role="document">
        <div class="modal-content">
            <div class="modal-header border-0">
                <div>
                    <h5 class="modal-title mb-0" id="registerModalLabel">{{ 'auth.register.title'|trans }}</h5>
                    <div class="auth-title-sub">{{ 'auth.register.subtitle'|trans }}</div>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body pt-0">
                {# Messages flash pour le register #}
                {% for message in app.flashes('success_register') %}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                {% for message in app.flashes('error_register') %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}

                <form method="post" action="{{ path('app_register') }}" id="registerFormModal">
                    <div class="auth-field-row">
                        <div class="auth-field">
                            <label for="reg_nom">{{ 'auth.lastname'|trans }}</label>
                            <i class="fa fa-user"></i>
                            <input type="text" name="registration_form[nom]" id="reg_nom" class="form-control" required>
                        </div>
                        <div class="auth-field">
                            <label for="reg_prenom">{{ 'auth.firstname'|trans }}</label>
                            <i class="fa fa-user"></i>
                            <input type="text" name="registration_form[prenom]" id="reg_prenom" class="form-control" required>
                        </div>
                    </div>
                    <div class="auth-field">
                        <label for="reg_email">{{ 'auth.email'|trans }}</label>
                        <i class="fa fa-envelope"></i>
                        <input type="email" name="registration_form[email]" id="reg_email" class="form-control" required>
                    </div>
                    <div class="auth-field-row">
                        <div class="auth-field">
                            <label for="reg_adresse">{{ 'auth.address'|trans }}</label>
                            <i class="fa fa-location-dot"></i>
                            <input type="text" name="registration_form[adresse]" id="reg_adresse" class="form-control" required>
                        </div>
                        <div class="auth-field mb-1">
                            <label for="reg_tel">{{ 'auth.phone'|trans }}</label>
                            <i class="fa fa-phone"></i>
                            <input type="text" name="registration_form[tel]" id="reg_tel" class="form-control" required>
                        </div>
                    </div>
                    <div class="auth-field mb-2">
                        <label for="reg_password">{{ 'auth.password'|trans }}</label>
                        <i class="fa fa-lock"></i>
                        <input type="password" name="registration_form[plainPassword]" id="reg_password" class="form-control" required>
                    </div>
                    <div class="form-group form-check mb-2">
                        <input type="checkbox" class="form-check-input" id="reg_agree" name="registration_form[agreeTerms]" required>
                        <label class="form-check-label" for="reg_agree">{{ 'auth.terms'|trans }}</label>
                    </div>

                    <div class="auth-footer-text mb-3">
                        {{ 'auth.have_account'|trans }}
                        <a href="#" data-dismiss="modal" data-toggle="modal" data-target="#loginModal">{{ 'auth.login_btn'|trans }}</a>
                    </div>
                    <input type="hidden" name="registration_form[_token]" value="{{ csrf_token('registration_form') }}">

                    <div class="d-flex justify-content-end mt-2">
                        <button type="submit" class="btn btn-animated-primary mt-2">{{ 'auth.register_btn'|trans }}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


 <!-- Footer -->
	<footer class="modern-footer">
        <div class="footer-overlay"></div>
            <div class="container footer-content">

                <div class="row">

                    <!-- LOGO & DESCRIPTION -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="footer-logo">
                            <img src="#" alt="TuniTrip">
                            <h3>TuniTrip</h3>
                        </div>

                        <p class="footer-text">
                            {{ 'footer.about.text'|trans }}
                        </p>

                        <div class="footer-social">
                            <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                            <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
                        </div>

                    </div>

                    <!-- NAVIGATION -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h4 class="footer-title">{{ 'footer.nav.title'|trans }}</h4>
                        <ul class="footer-links">
                            <li><a href="{{path('app_accueil')}}">{{ 'footer.nav.home'|trans }}</a></li>
                            <li><a href="{{path('app_front_list_voitures')}}">{{ 'footer.nav.cars'|trans }}</a></li>
                            <li><a href="{{path('app_front_excursions_list')}}">{{ 'footer.nav.excursions'|trans }}</a></li>
                            <li><a href="{{path('app_front_blogs')}}">{{ 'footer.nav.blogs'|trans }}</a></li>
                            <li><a href="{{path('app_front_about')}}">{{ 'footer.nav.about'|trans }}</a></li>
                            <li><a href="{{path('app_front_contact')}}">{{ 'footer.nav.contact'|trans }}</a></li>
                        </ul>
                    </div>

                    <!-- SERVICES -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h4 class="footer-title">{{ 'footer.services.title'|trans }}</h4>
                        <ul class="footer-links">
                            <li><a href="{{path('app_front_list_voitures')}}">{{ 'footer.services.cars'|trans }}</a></li>
                            <li><a href="{{path('app_front_excursions_list')}}">{{ 'footer.services.excursions'|trans }}</a></li>
                            <li><a href="{{path('app_accueil')}}#transfers-section">{{ 'footer.services.transfers'|trans }}</a></li>
                        </ul>
                    </div>

                    <!-- CONTACT -->
                    <div class="col-lg-3 col-md-6 mb-4">
                        <h4 class="footer-title">{{ 'footer.contact.title'|trans }}</h4>
                        <ul class="footer-contact">
                            <li><i class="fa fa-map-marker"></i> {{ 'footer.contact.address'|trans }}</li>
                            <li><i class="fa fa-phone"></i> {{ 'footer.contact.phone'|trans }}</li>
                            <li><i class="fa fa-envelope"></i> {{ 'footer.contact.email'|trans }}</li>
                            <li><i class="fa fa-globe"></i> {{ 'footer.contact.website'|trans }}</li>
                        </ul>
                    </div>

                </div>

                <!-- Copy -->
                <div class="footer-bottom">
                    <p>{{ 'footer.copy.text'|trans({'%year%': '2025'})|raw }}</p>
                </div>
                


            </div>
            <div class="footer-man">
                <img src="{{ asset('assetsFront/images/man_copie.png') }}" alt="man-image">
            </div>
    </footer>


</div>

<script src="{{ asset('assetsFront/js/jquery-3.2.1.min.js') }}"></script>
<script src="{{ asset('assetsFront/styles/bootstrap4/popper.js') }}"></script>
<script src="{{ asset('assetsFront/styles/bootstrap4/bootstrap.min.js') }}"></script>
<script src="{{ asset('assetsFront/plugins/OwlCarousel2-2.2.1/owl.carousel.js') }}"></script>
<script src="{{ asset('assetsFront/plugins/easing/easing.js') }}"></script>
<script src="{{ asset('assetsFront/js/custom.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<script>
// JavaScript pour ouvrir/fermer le menu
document.addEventListener('DOMContentLoaded', function() {
    const hamburger = document.querySelector('.hamburger');
    const menu = document.querySelector('.menu');
    const menuClose = document.querySelector('.menu_close');
    const menuItems = document.querySelectorAll('.menu_item a');

    // Ouvrir le menu
    if (hamburger) {
        hamburger.addEventListener('click', function() {
            menu.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
    }

    // Fermer le menu
    if (menuClose) {
        menuClose.addEventListener('click', function() {
            menu.classList.remove('active');
            document.body.style.overflow = '';
        });
    }

    // Fermer le menu lors du clic sur un lien
    menuItems.forEach(item => {
        item.addEventListener('click', function() {
            menu.classList.remove('active');
            document.body.style.overflow = '';
        });
    });

    // Fermer le menu en cliquant en dehors
    document.addEventListener('click', function(e) {
        if (!menu.contains(e.target) && !hamburger.contains(e.target)) {
            menu.classList.remove('active');
            document.body.style.overflow = '';
        }
    });

    // Marquer le lien actif
    const currentPath = window.location.pathname;
    menuItems.forEach(item => {
        if (item.getAttribute('href') === currentPath) {
            item.classList.add('active');
        }
    });
});
</script>

<script>
function toggleDropdown() {
    var dropdown = document.getElementById("dropdownMenu");
    if (dropdown) {
        dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
    }
}

// Optionnel : fermer le dropdown si l'utilisateur clique en dehors
window.onclick = function(event) {
    if (!event.target.matches('.avatar_circle')) {
        var dropdown = document.getElementById("dropdownMenu");
        if (dropdown && dropdown.style.display === "block") {
            dropdown.style.display = "none";
        }
    }
}
</script>

{% block script %}
    


    <script>
    $(document).ready(function () {

        // ------------------------
        // 1. Auto-hide toast après inscription
        // ------------------------
        const toast = $('#toast-success-register');
        if (toast.length) {
            setTimeout(function () {
                toast.fadeOut(400, function () {
                    $(this).remove();
                });
            }, 4000);
        }

        // ------------------------
        // 2. Ouvrir login modal après register (ou erreur login)
        // ------------------------
        {% if app.flashes('open_login_after_register') is not empty or app.flashes('open_login_modal') is not empty %}
            $('#loginModal').modal('show');
        {% endif %}

        // ------------------------
        // 3. Ouvrir register modal si demandé (ex: erreur)
        // ------------------------
        {% if app.flashes('open_register_modal') is not empty %}
            $('#registerModal').modal('show');
        {% endif %}

        // ------------------------
        // 3. Gestion globale des boutons require-login
        // ------------------------
        const isLoggedIn = {{ app.user ? 'true' : 'false' }};

        $(document).on('click', '[data-require-login]', function(e) {

            // Si NON connecté → ouvrir modal login
            if (!isLoggedIn) {
                e.preventDefault();
                e.stopPropagation();
                $('#loginModal').modal('show');
                return false;
            }

            // Si connecté → on détecte l'action
            const action = $(this).data('action');

            // --- 3.1 Ouvrir modal "review" (sécurisé)
            if (action === 'open-review-modal') {
                const reviewModal = document.getElementById('reviewModal');
                if (reviewModal) {
                    $(reviewModal).css('display', 'flex');
                }
            }

            // --- 3.2 Ajouter aux favoris
            if (action === 'add-favoris') {
                const excursionId = $(this).data('excursion-id');
                if (excursionId) {
                    addToFavoris(excursionId);
                }
            }

        

            // Tu peux ajouter ici d'autres actions :
            // if (action === 'open-reservation-modal') { ... }
            // if (action === 'open-chat-modal') { ... }

        });

    });
    </script>


    <script>
    function toggleDropdown() {
        const menu = document.getElementById("dropdownMenu");
        menu.style.display = (menu.style.display === "block") ? "none" : "block";
    }

    document.addEventListener("click", function(event) {
        const menu = document.getElementById("dropdownMenu");
        const avatar = document.querySelector(".avatar_circle");

        if (!avatar.contains(event.target)) {
            menu.style.display = "none";
        }
    });
    </script>




    <script>
    // ============================================
    // AUTO-HIDE ALERTS AFTER 4 SECONDS
    // ============================================
    $(document).ready(function() {
        // Masquer automatiquement les alertes après 4 secondes
        setTimeout(function() {
            $('.alert').fadeOut('slow', function() {
                $(this).remove();
            });
        }, 4000);
    });

    // ============================================
    // VALIDATION EN TEMPS RÉEL DU FORMULAIRE
    // ============================================
    $(document).ready(function() {
        
        // Fonction pour afficher les messages d'erreur
        function showError(input, message) {
            const formGroup = input.closest('.auth-field, .auth-field-row > div');
            let errorDiv = formGroup.find('.error-message');
            
            if (errorDiv.length === 0) {
                errorDiv = $('<div class="error-message"></div>');
                formGroup.append(errorDiv);
            }
            
            errorDiv.text(message).show();
            input.addClass('is-invalid');
        }
        
        // Fonction pour masquer les messages d'erreur
        function hideError(input) {
            const formGroup = input.closest('.auth-field, .auth-field-row > div');
            formGroup.find('.error-message').hide();
            input.removeClass('is-invalid');
        }
        
        // ============================================
        // VALIDATION NOM ET PRÉNOM (lettres uniquement)
        // ============================================
        $('#reg_nom, #reg_prenom').on('blur', function() {
            const value = $(this).val().trim();
            const fieldName = $(this).attr('id') === 'reg_nom' ? 'nom' : 'prénom';
            const regex = /^[a-zA-ZÀ-ÿ\s'-]+$/;
            
            if (value === '') {
                showError($(this), `Le ${fieldName} est requis.`);
            } else if (!regex.test(value)) {
                showError($(this), `Le ${fieldName} ne doit contenir que des lettres.`);
            } else if (value.length < 2) {
                showError($(this), `Le ${fieldName} doit contenir au moins 2 caractères.`);
            } else {
                hideError($(this));
            }
        });
        
        // ============================================
        // VALIDATION EMAIL
        // ============================================
        $('#reg_email').on('blur', function() {
            const value = $(this).val().trim();
            const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            
            if (value === '') {
                showError($(this), 'L\'email est requis.');
            } else if (!regex.test(value)) {
                showError($(this), 'Veuillez entrer un email valide (ex: exemple@domaine.com).');
            } else {
                hideError($(this));
            }
        });
        
        // ============================================
        // VALIDATION TÉLÉPHONE (chiffres uniquement)
        // ============================================
        $('#reg_tel').on('blur', function() {
            const value = $(this).val().trim();
            const regex = /^[0-9]{8,15}$/;
            
            if (value === '') {
                showError($(this), 'Le téléphone est requis.');
            } else if (!/^[0-9]+$/.test(value)) {
                showError($(this), 'Le téléphone ne doit contenir que des chiffres.');
            } else if (!regex.test(value)) {
                showError($(this), 'Le téléphone doit contenir entre 8 et 15 chiffres.');
            } else {
                hideError($(this));
            }
        });
        
        // Empêcher la saisie de caractères non numériques dans le téléphone
        $('#reg_tel').on('keypress', function(e) {
            const charCode = e.which ? e.which : e.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                e.preventDefault();
                return false;
            }
        });
        
        // ============================================
        // VALIDATION MOT DE PASSE
        // ============================================
        $('#reg_password').on('blur', function() {
            const value = $(this).val();
            
            if (value === '') {
                showError($(this), 'Le mot de passe est requis.');
                return;
            }
            
            // Vérifications individuelles
            const hasUpperCase = /[A-Z]/.test(value);
            const hasLowerCase = /[a-z]/.test(value);
            const hasNumber = /[0-9]/.test(value);
            const hasSpecialChar = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(value);
            const validLength = value.length >= 8 && value.length <= 12;
            
            let errors = [];
            
            if (!validLength) {
                errors.push('entre 8 et 12 caractères');
            }
            if (!hasUpperCase) {
                errors.push('une lettre majuscule');
            }
            if (!hasLowerCase) {
                errors.push('une lettre minuscule');
            }
            if (!hasNumber) {
                errors.push('un chiffre');
            }
            if (!hasSpecialChar) {
                errors.push('un caractère spécial (!@#$%...)');
            }
            
            if (errors.length > 0) {
                showError($(this), 'Le mot de passe doit contenir : ' + errors.join(', ') + '.');
            } else {
                hideError($(this));
            }
        });
        
        // ============================================
        // VALIDATION À LA SOUMISSION DU FORMULAIRE
        // ============================================
        $('#registerFormModal').on('submit', function(e) {
            let hasError = false;
            
            // Valider tous les champs
            $('#reg_nom, #reg_prenom, #reg_email, #reg_tel, #reg_password').each(function() {
                $(this).trigger('blur');
                if ($(this).hasClass('is-invalid')) {
                    hasError = true;
                }
            });
            
            // Vérifier les conditions d'utilisation
            if (!$('#reg_agree').is(':checked')) {
                alert('Vous devez accepter les conditions d\'utilisation.');
                hasError = true;
            }
            
            // Empêcher la soumission si erreur
            if (hasError) {
                e.preventDefault();
                return false;
            }
        });
        
        // Réinitialiser les erreurs lors de la modification
        $('#reg_nom, #reg_prenom, #reg_email, #reg_tel, #reg_password, #reg_adresse').on('input', function() {
            if ($(this).val().trim() !== '') {
                hideError($(this));
            }
        });
    });
    </script>

{% endblock %}

<!-- Chatbot Widget -->
<div id="chatbot-container">
    <div id="chatbot-window">
        <div class="chat-header">
            <div class="chat-header-info">
                <div class="chat-avatar">
                   <i class="fas fa-robot" style="color: #d8b65d;"></i>
                </div>
                <div class="chat-title">
                    <h3>TuniBot</h3>
                    <span>Assistant Voyage</span>
                </div>
            </div>
            <button id="chat-close-btn" class="chat-close-btn">&times;</button>
        </div>
        <div id="chat-body" class="chat-body">
            <!-- Messages -->
        </div>
    </div>
    <div id="chatbot-toggle-btn">
        <i class="fas fa-comments"></i>
    </div>
</div>

<script>
    window.chatbotRoutes = {
        cars: "{{ path('app_front_list_voitures') }}",
        excursions: "{{ path('app_front_excursions_list') }}",
        contact: "{{ path('app_front_contact') }}",
        login: "{{ path('app_login') }}",
        home: "{{ path('app_accueil') }}" 
    };
    window.currentLocale = "{{ app.request.locale }}";
</script>
<script src="{{ asset('assetsFront/js/chatbot.js') }}"></script>

</body>


<!-- Mirrored from html.themeholy.com/Habilux/demo/home-5.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 16 Dec 2024 14:30:12 GMT -->
</html>