{% extends 'baseFront.html.twig' %}

{% block title %}{{ 'vehicles.list.title'|trans }}{% endblock %}

{% block metaDescription %}
Découvrez toutes nos voitures de location en Tunisie avec TuniTrip : compactes, berlines, SUV et vans. Comparez les prix, consultez les avis et réservez facilement votre véhicule pour vos transferts et excursions.
{% endblock %}

{% block stylesheet %}
    <link rel="stylesheet" href="{{ asset('assetsFront/css/list_voitures.css') }}">
{% endblock %}


{% block body %}
<!-- HERO IMAGE EN HAUT -->
<div class="page-hero">
    <div class="page-hero_content">
        <h1 class="page-hero_title">{{ 'vehicles.hero.title'|trans }}</h1>
        <p>{{ 'vehicles.hero.subtitle'|trans }}</p>
    </div>
</div>


<div class="cars-page">
    <form method="GET" action="{{ path('app_front_list_voitures') }}" class="filters">
        <h3>{{ 'vehicles.filter.title'|trans }}</h3>

        <div class="filter-field">
            <label for="passengers">{{ 'vehicles.filter.passengers'|trans }}</label>
            <select name="passengers" id="passengers">
                <option value="">{{ 'common.all'|trans }}</option>
                <option value="5">5</option>
                <option value="6plus">6+</option>
            </select>
        </div>

        <div class="filter-field">
            <label for="suitcases">{{ 'vehicles.filter.suitcases'|trans }}</label>
            <select name="suitcases" id="suitcases">
                <option value="">{{ 'common.all'|trans }}</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4plus">4+</option>
            </select>
        </div>

        <div class="filter-field">
            <label for="boiteVitesse">{{ 'vehicles.filter.transmission'|trans }}</label>
            <select name="boiteVitesse" id="boiteVitesse">
                <option value="">{{ 'common.all'|trans }}</option>
                <option value="Auto">{{ 'vehicles.filter.automatic'|trans }}</option>
                <option value="Manuelle">{{ 'vehicles.filter.manual'|trans }}</option>
            </select>
        </div>

    

        <button type="submit" class="btn-animated-primary excursion-details-btn" aria-label="{{ 'vehicles.filter.aria_label'|trans }}">
            <img src="{{ asset('assetsFront/images/filter.png') }}" alt="Filtrer" style="width:20px;height:18px;object-fit:contain;display:block;" />
        </button>
    </form>


<div class="car-info-box">
    <h4>{{ 'vehicles.know.title'|trans }} 🚗</h4>
    <ul>
        <li>📍 {{ 'vehicles.know.delivery'|trans }}</li>
        <li>💰 {{ 'vehicles.know.payment'|trans }}</li>
        <li>💬 {{ 'vehicles.know.contact'|trans }}: 
            <a href="https://wa.me/21626341186" target="_blank" class="whatsapp-link">
                +216 26 341 186
            </a>
        </li>
    </ul>
</div>

    <div class="cars-list">
        {% for voiture in voitures %}
                        <div class="car-card">
                            <div class="car-image-wrapper">
                                <span class="car-brand">Tuni<span style="color: #d8b65d;">Trip</span></span>
                                <div class="price-badge" data-original-price="{{ voiture.prixJour }}">
                                    <div class="price-container">
                                        <span class="price-badge-amount">{{ voiture.prixJour }}</span>
                                        <span class="price-currency">TND</span>
                                    </div>
                                    <span class="price-badge-label">{{ 'vehicles.price_per_day'|trans }}</span>
                                </div>
                                {% if voiture.image %}
                                    <img src="{{ asset('uploads/images/' ~ voiture.image) }}" alt="{{ voiture.marque }} {{ voiture.modele }}" class="car-image">
                                {% else %}
                                    <img src="{{ asset('assetsFront/default-car.jpg') }}" alt="Image non disponible" class="car-image">
                                {% endif %}
                            </div>
                            <div class="car-content">
                                <h3 class="car-title"><span style="color:#d8b65d;">{{ voiture.marque }}</span> {{ voiture.modele }}</h3>
                                
                                <div class="car-features">
                                    <div class="feature">
                                        <span class="feature-icon">👥</span>
                                        <span class="feature-text">{{ voiture.passengers }} {{ 'vehicles.features.seats'|trans }}</span>
                                    </div>
                                    <div class="feature">
                                        <span class="feature-icon">⚙️</span>
                                        <span class="feature-text">
                                            {% if voiture.boiteVitesse == 'Auto' %}
                                                {{ 'vehicles.filter.automatic'|trans }}
                                            {% else %}
                                                {{ 'vehicles.filter.manual'|trans }}
                                            {% endif %}
                                        </span>
                                    </div>
                                    <div class="feature">
                                        <span class="feature-icon">🌡️</span>
                                        <span class="feature-text">
                                        {% if voiture.climatiseur %}
                                            {{ 'vehicles.features.air_conditioning'|trans }}
                                        {% else %}
                                            {{ 'vehicles.features.no_air_conditioning'|trans }}
                                        {% endif %}
                                    </span>
                                    </div>
                                    <div class="feature">
                                        <span class="feature-icon">🧳</span>
                                        <span class="feature-text">{{ voiture.suitcases }} {{ 'vehicles.features.suitcases'|trans }}</span>
                                    </div>
                                </div>
                                <div class="divider"></div>
                                <div class="car-low-price">
                                    <span class="money-icon">💰</span>
                                    <span class="low-price-text">{{ voiture.prixMois }} TND • {{ 'vehicles.lowest_price'|trans }}</span>
                                </div>
                                <div class="reserver-btn-container">
                                    <div style="width:100%;" class="btn-animated-primary reservation-btn" onclick="window.location.href='{{ path('app_reservation_voiture', { slug: voiture.slug }) }}'">
                                    <span>{{ 'common.book'|trans }} →</span>
                                </div>

                                </div>
                            </div>
                        </div>
                        {% else %}
                            <p style="grid-column: 1/-1; text-align: center; color: #7f8c8d; font-size: 18px; padding: 40px;">{{ 'vehicles.no_cars'|trans }}</p>
                        {% endfor %}
    </div>
</div>


{% endblock %}

{% block script %}
    <script src="{{ asset('assetsFront/js/list_voitures.js') }}"></script>
{% endblock %}
